import{_ as A,i as k}from"./main-CSWlY06c.js";import{d as S,b as y,q as B,j as E,m as R,c as w,Q as f,I as m,a0 as r,W as h,u as p,F as I,M as C,X as L,a5 as O,V as q,a6 as X,$ as H,a4 as Q,H as W,L as z}from"./runtime-dom.esm-bundler-TTcPHy3m.js";function G(g,i,a){var n=0;let e,t=g;function v(o=100){return n!=0||(e=new Date,e.setTime(e.getTime()+t),n=window.setInterval(()=>{let u=new Date().getTime();t=e.getTime()-u,t<=0&&(b(),t=0),a instanceof Function&&a(t)},o)),n}function b(){clearInterval(n),n=0,i instanceof Function&&i()}function d(){e instanceof Date&&(t=e.getTime()-new Date().getTime()),clearInterval(n),n=0}function s(){clearInterval(n),n=0}function l(){t=g,n!=0&&(clearInterval(n),n=0),v()}return{start:v,pause:d,remove:s,restart:l,get getTime(){return t},get getFutureDate(){return e}}}const J={id:"display-countdown",class:"flex grow-0 justify-center px-1 py-2 text-6xl"},K={class:"mx-4 my-4 flex justify-center"},Y=["disabled"],Z=S({__name:"CountdownInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["terminateAlarmInstance"],setup(g,{emit:i}){const a=g,n=i,e={Countingdown:"Countingdown",Paused:"Paused",TimeUp:"TimeUp",Stopped:"Stopped"};let t=y(),v=y(0);function b(c){v.value=c}let d=G(a.countdownInSecond,j,b);B(()=>{d.start(void 0),t.value=e.Countingdown}),E(()=>{t.value=e.Stopped,d.remove()});let s=y(void 0),l=R()?.vnode.key,o=w(()=>{let c=v.value/1e3,T=Math.floor(c/3600),V=Math.floor(c/60),$=Math.floor(c%60),F=String(T).padStart(2,"0"),N=String(V).padStart(2,"0"),U=String($).padStart(2,"0");return`${F}:${N}:${U}`}),u=w(()=>t.value);function _(){t.value=e.Paused,d.pause()}function M(){if(t.value=e.Countingdown,d.getTime===0){d.restart(),x();return}d.start()}function j(){t.value=e.TimeUp,P()}function D(c){t.value=e.Stopped,d.remove(),x(),l&&n("terminateAlarmInstance",l.toString())}async function P(){if(s.value===void 0){const c=await A(()=>import("./bell_1-dZ4EyACX.js"),[]);s.value=new Audio(c.default),s.value.loop=!0,s.value.play()}}async function x(){s.value!==void 0&&(s.value.pause(),s.value=void 0)}return(c,T)=>(m(),f("div",null,[r("div",{class:"flex justify-end"},[r("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:D}," X ")]),r("div",J,h(p(o)),1),r("div",K,[p(u)==e.Countingdown?(m(),f("button",{key:0,id:"btn-pause",class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:_}," Pause ")):(m(),f("button",{key:1,id:"btn-restart-or-resume",class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:M},h(p(u)==e.TimeUp?"Restart":"Resume"),1)),r("button",{id:"btn-stop-alarm",disabled:p(s)==null,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:x}," Stop Alarm ",8,Y)])]))}}),ee={class:"mx-4 my-4 flex justify-center"},te={class:"flex justify-center text-2xl"},ne={key:0},oe={key:1,class:"mx-4 my-4 flex justify-center"},re={class:"flex flex-wrap justify-center gap-x-12 gap-y-4"},ae=S({__name:"CountdownPanel",setup(g){let i,a=y(0),n=()=>Math.floor(Math.random()*1e4),e=y({}),t=w(()=>{let l=[];for(let o in e.value)l.push(o);return l.join(", ")});function v(){(isNaN(a.value)||!a.value)&&(a.value=1);const l=60*1e3;let o=parseInt(a.value.toString())*l;e.value&&(e.value[n().toString()]={timerMillis:o})}function b(l){e.value&&delete e.value[l]}async function d(){if(i===void 0){const l=await A(()=>import("./bell_1-dZ4EyACX.js"),[]);i=new Audio(l.default),i.loop=!0,i.play()}}async function s(){i!==void 0&&(i.pause(),i=void 0)}return(l,o)=>(m(),f(I,null,[r("div",ee,[r("form",{onSubmit:o[1]||(o[1]=L(()=>{},["prevent"]))},[o[3]||(o[3]=r("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1)),r("span",te,[O(r("input",{id:"input_time","onUpdate:modelValue":o[0]||(o[0]=u=>H(a)?a.value=u:a=u),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[X,p(a),void 0,{number:!0}]]),o[2]||(o[2]=q(" minutes ",-1))])],32)]),p(k)()?(m(),f("div",ne,h(p(t)),1)):C("",!0),r("div",{class:"mx-4 my-4 flex justify-center"},[r("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:v}," Start ")]),p(k)()?(m(),f("span",oe,[r("button",{class:"mx-2 rounded-lg border-solid border-black bg-yellow-200 px-6 py-2 hover:bg-yellow-500",onClick:d}," Play Alarm "),r("button",{class:"mx-2 rounded-lg border-solid border-black bg-yellow-200 px-6 py-2 hover:bg-yellow-500",onClick:s}," Pause Alarm ")])):C("",!0),r("div",re,[(m(!0),f(I,null,Q(p(e),(u,_)=>(m(),W(Z,{key:_,"countdown-in-second":u.timerMillis,onTerminateAlarmInstance:b},null,8,["countdown-in-second"]))),128))])],64))}}),se=S({__name:"Timer",setup(g){return(i,a)=>(m(),f("section",null,[z(ae)]))}});export{se as default};
