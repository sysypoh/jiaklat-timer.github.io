import{d as S,o as O,a as q,r as m,g as X,c as h,_ as D,b as u,e as v,f as a,t as T,u as d,w as z,h as G,v as H,i as J,j as K,k as A,F as M,l as Q,m as W,n as Y}from"./index-9HxPxrSS.js";const j=()=>!1,Z={id:"display-countdown",class:"flex grow-0 justify-center px-1 py-2 text-6xl"},ee={class:"mx-4 my-4 flex justify-center"},te=["disabled"],ae=S({__name:"AlarmInstance",props:{countdownInSecond:{type:Number,required:!1,default:5e3}},emits:["terminateAlarmInstance"],setup(_,{emit:r}){var C;const l=_,x=r;O(()=>{I()}),q(()=>{N()});const n={Countingdown:"Countingdown",Paused:"Paused",TimeUp:"TimeUp",Stopped:"Stopped"};let i=m(void 0),c=m(),f=l.countdownInSecond,o=m(0),b=m(""),e=m(0),t=m(),p=(C=X())==null?void 0:C.vnode.key,w=h(()=>{let s=e.value/1e3,y=Math.floor(s/(60*60)),R=Math.floor(s/60),B=Math.floor(s%60),E=String(y).padStart(2,"0"),F=String(R).padStart(2,"0"),L=String(B).padStart(2,"0");return`${E}:${F}:${L}`}),k=h(()=>c.value);function I(){if(o.value!=0)return;t.value=new Date,t.value.setTime(t.value.getTime()+f),b.value=t.value.toString(),e.value=f;const s=100;o.value=window.setInterval(()=>{let y=new Date().getTime();e.value=t.value.getTime()-y,e.value<=0&&U()},s),c.value=n.Countingdown}function P(){t.value instanceof Date&&(f=t.value.getTime()-new Date().getTime()),clearInterval(o.value),o.value=0,c.value=n.Paused,g()}function N(){clearInterval(o.value),o.value=0,e.value=0,b.value="",c.value=n.Stopped,g()}function U(){clearInterval(o.value),o.value=0,e.value=0,c.value=n.TimeUp,$()}function V(s){clearInterval(o.value),o.value=0,e.value=0,b.value="",c.value=n.Stopped,g(),p&&x("terminateAlarmInstance",p.toString())}async function $(){if(i.value===void 0){const s=await D(()=>import("./bell_1-GeYJ0uP-.js"),__vite__mapDeps([]));i.value=new Audio(s.default),i.value.loop=!0,i.value.play()}}async function g(){i.value!==void 0&&(i.value.pause(),i.value=void 0)}return(s,y)=>(u(),v("div",null,[a("div",{class:"flex justify-end"},[a("button",{class:"mx-2 rounded-lg border-solid border-black bg-red-200 px-6 py-2 hover:bg-red-500",onClick:V}," X ")]),a("div",Z,T(d(w)),1),a("div",ee,[d(k)==n.Countingdown?(u(),v("button",{key:0,id:"btn-pause",class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:P}," Pause ")):(u(),v("button",{key:1,id:"btn-restart-or-resume",class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:I},T(d(k)==n.TimeUp?"Restart":"Resume"),1)),a("button",{id:"btn-stop-alarm",disabled:d(i)==null,class:"mx-2 rounded-lg border-solid border-black bg-orange-200 px-6 py-2 hover:bg-red-500 disabled:cursor-not-allowed disabled:opacity-15",onClick:g}," Stop Alarm ",8,te)])]))}}),ne={class:"mx-4 my-4 flex justify-center"},oe=a("label",{class:"mb-2 flex justify-center text-2xl font-medium text-gray-900 dark:text-white",for:"input_time"}," Input countdown ",-1),le={class:"flex justify-center text-2xl"},re={key:0},ie={key:1,class:"mx-4 my-4 flex justify-center"},se={class:"flex flex-wrap justify-center gap-x-12 gap-y-4"},ue=S({__name:"Countdown",setup(_){let r,l=m(0),x=()=>Math.floor(Math.random()*1e4),n=m({}),i=h(()=>{let e=[];for(let t in n.value)e.push(t);return e.join(", ")});function c(){(isNaN(l.value)||!l.value)&&(l.value=1);const e=60*1e3;let t=parseInt(l.value.toString())*e;n.value&&(n.value[x().toString()]={timerMillis:t})}function f(e){n.value&&delete n.value[e]}async function o(){if(r===void 0){const e=await D(()=>import("./bell_1-GeYJ0uP-.js"),__vite__mapDeps([]));r=new Audio(e.default),r.loop=!0,r.play()}}async function b(){r!==void 0&&(r.pause(),r=void 0)}return(e,t)=>(u(),v(M,null,[a("div",ne,[a("form",{onSubmit:t[1]||(t[1]=z(()=>{},["prevent"]))},[oe,a("span",le,[G(a("input",{id:"input_time","onUpdate:modelValue":t[0]||(t[0]=p=>J(l)?l.value=p:l=p),class:"text-grey mx-2 border border-gray-300 bg-gray-50",placeholder:"5"},null,512),[[H,d(l),void 0,{number:!0}]]),K(" minutes ")])],32)]),d(j)()?(u(),v("div",re,T(d(i)),1)):A("",!0),a("div",{class:"mx-4 my-4 flex justify-center"},[a("button",{class:"mx-2 rounded-lg border-solid border-black bg-green-200 px-6 py-2 hover:bg-green-500",onClick:c}," Start ")]),d(j)()?(u(),v("span",ie,[a("button",{class:"mx-2 rounded-lg border-solid border-black bg-yellow-200 px-6 py-2 hover:bg-yellow-500",onClick:o}," Play Alarm "),a("button",{class:"mx-2 rounded-lg border-solid border-black bg-yellow-200 px-6 py-2 hover:bg-yellow-500",onClick:b}," Pause Alarm ")])):A("",!0),a("div",se,[(u(!0),v(M,null,Q(d(n),(p,w)=>(u(),W(ae,{key:w,"countdown-in-second":p.timerMillis,onTerminateAlarmInstance:f},null,8,["countdown-in-second"]))),128))])],64))}}),ce=S({__name:"TimerPage",setup(_){return(r,l)=>(u(),v("section",null,[Y(ue)]))}});export{ce as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
